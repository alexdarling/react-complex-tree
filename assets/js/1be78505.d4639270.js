"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9514],{3456:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function l(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoDemo=void 0;var c=a(n(2784)),s=n(7730),d=n(2784);t.AutoDemo=function(e){var t,n,i=d.useState(!1),o=i[0],a=i[1],m=d.useRef(!1),f=d.useState(0),v=f[0],p=f[1],g=d.useState(parseFloat(null!==(t=localStorage.getItem("rct-autodemo-speed"))&&void 0!==t?t:"1")),h=g[0],I=g[1],b=d.useRef(parseFloat(null!==(n=localStorage.getItem("rct-autodemo-speed"))&&void 0!==n?n:"1")),y=d.useRef(null),C=d.useRef(null),E=d.useRef(null),x=d.useRef(null),w=d.useRef(null),D=d.useRef(null);d.useEffect((function(){localStorage.setItem("rct-autodemo-speed",""+h),b.current=h}),[h]),d.useEffect((function(){m.current=o}),[o]),d.useEffect((function(){a(!1),m.current=!1,setTimeout((function(){return l(void 0,void 0,void 0,(function(){var t,n;return u(this,(function(r){switch(r.label){case 0:t={env:y,tree:C,tree1:C,tree2:E,tree3:x,tree4:w,tree5:D,renameTo:function(e,t,n){return void 0===n&&(n=200),l(void 0,void 0,void 0,(function(){var r;return u(this,(function(i){for(r in e.startRenamingItem(y.current.viewState[e.treeId].focusedItem),t.split(""))return[2,new Promise((function(e){return setTimeout(e,n)}))];return[2]}))}))},searchFor:function(e,n,r){return void 0===r&&(r=200),l(void 0,void 0,void 0,(function(){var i,o,a,l;return u(this,(function(u){switch(u.label){case 0:i="",o=0,a=n.split(""),u.label=1;case 1:return o<a.length?(l=a[o],i+=l,e.setSearch(i),[4,t.wait(r)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},programmaticMove:function(e,n,r){return void 0===r&&(r=100),l(void 0,void 0,void 0,(function(){var i;return u(this,(function(o){switch(o.label){case 0:i=0,o.label=1;case 1:return i<n?("up"===e?y.current.moveProgrammaticDragPositionUp():y.current.moveProgrammaticDragPositionDown(),[4,t.wait(i<.2*n||i>.8*n?2*r:r)]):[3,4];case 2:o.sent(),o.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))},wait:function(e){return l(void 0,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:if(m.current)throw"abort";return[4,new Promise((function(t){return setTimeout(t,e*(1/b.current))}))];case 1:if(t.sent(),m.current)throw"abort";return[2]}}))}))}},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.storyScript(t)];case 2:return r.sent(),e.restart&&p((function(e){return e+1})),[3,4];case 3:if("abort"!==(n=r.sent()))throw n;return[3,4];case 4:return[2]}}))}))}),1e3)}),[v]);var T=d.useMemo((function(){return{key:"k"+v,autoFocus:o,dataProvider:new s.StaticTreeDataProvider(JSON.parse(JSON.stringify(e.data.items)),(function(e,t){return r(r({},e),{data:t})})),renderItem:function(e){return s.createDefaultRenderers(10).renderItem(r(r({},e),{context:r(r({},e.context),{interactiveElementProps:r(r({},e.context.interactiveElementProps),{tabIndex:o?e.context.interactiveElementProps.tabIndex:-2})})}))}}}),[v,o,e.data.items]),P=function(e){return c.createElement("button",{className:e.speed===h?"active":"",onClick:function(){return I(e.speed)}},"x",e.speed)};return c.createElement("div",{className:"rct-autodemo-container"},c.createElement("div",{className:["rct-autodemo-content",null!==C.current?"rct-autodemo-content-childcount-1":"",null!==E.current?"rct-autodemo-content-childcount-2":"",null!==x.current?"rct-autodemo-content-childcount-3":"",null!==w.current?"rct-autodemo-content-childcount-4":"",null!==D.current?"rct-autodemo-content-childcount-5":""].join(" "),onMouseDown:function(){return a(!0)},onKeyDown:function(){return a(!0)}},e.children(T,y,C,E,x,w,D)),c.createElement("div",{className:"rct-autodemo-controls"},c.createElement("div",{className:"rct-autodemo-controls-left"},c.createElement("div",{className:"rct-autodemo-controls-header"},c.createElement("h2",null,o?"Demo was stopped":"Demo is running"),c.createElement("div",{className:"rct-autodemo-controls-speed","aria-label":"Speed control for the demo"},c.createElement(P,{speed:.75}),c.createElement(P,{speed:1}),c.createElement(P,{speed:2}),c.createElement(P,{speed:3}))),c.createElement("p",null,o?"":"Click anywhere on the tree to try it yourself!")),c.createElement("div",{className:"rct-autodemo-controls-right"},c.createElement("button",{onClick:function(){o?p((function(e){return e+1})):a(!0)}},o?"Restart":"Abort"))))}},4298:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(3456),t)},8746:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(6796),t)},6796:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderers=void 0;var o=i(n(2784)),a=n(8362),l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter((function(e){return!!e})).join(" ")};t.renderers={renderTreeContainer:function(e){return o.default.createElement("div",{className:l(a.Classes.TREE)},o.default.createElement("ul",r({className:l(a.Classes.TREE_ROOT,a.Classes.TREE_NODE_LIST)},e.containerProps),e.children))},renderItemsContainer:function(e){return o.default.createElement("ul",r({className:l(a.Classes.TREE_NODE_LIST)},e.containerProps),e.children)},renderItem:function(e){return o.default.createElement("li",r({className:l(a.Classes.TREE_NODE,(e.context.isSelected||e.context.isDraggingOver)&&a.Classes.TREE_NODE_SELECTED)},e.context.itemContainerWithChildrenProps),o.default.createElement("div",r({className:l(a.Classes.TREE_NODE_CONTENT,a.Classes.TREE_NODE_CONTENT+"-"+e.depth)},e.context.itemContainerWithoutChildrenProps,e.context.interactiveElementProps),e.item.hasChildren?e.arrow:o.default.createElement("span",{className:a.Classes.TREE_NODE_CARET_NONE}),void 0!==e.item.data.icon?null===e.item.data.icon?null:o.default.createElement(a.Icon,{icon:e.item.data.icon,className:a.Classes.TREE_NODE_ICON}):(t=e.item.hasChildren?e.context.isExpanded?"folder-open":"folder-close":"document",o.default.createElement(a.Icon,{icon:t,className:a.Classes.TREE_NODE_ICON})),e.title),o.default.createElement("div",{className:l(a.Classes.COLLAPSE),style:e.context.isExpanded?{height:"auto",overflowY:"visible",transition:"none 0s ease 0s"}:{}},o.default.createElement(a.Collapse,{isOpen:e.context.isExpanded,transitionDuration:0},e.children)));var t},renderItemArrow:function(e){return o.default.createElement(a.Icon,r({icon:"chevron-right",className:l(a.Classes.TREE_NODE_CARET,e.context.isExpanded?a.Classes.TREE_NODE_CARET_OPEN:a.Classes.TREE_NODE_CARET_CLOSED)},e.context.arrowProps))},renderItemTitle:function(e){var t=e.title,n=e.context,r=e.info;if(r.isSearching&&n.isSearchMatching){var i=t.toLowerCase().indexOf(r.search.toLowerCase());return o.default.createElement(o.default.Fragment,null,i>0&&o.default.createElement("span",null,t.slice(0,i)),o.default.createElement("span",{className:"rct-tree-item-search-highlight"},t.slice(i,i+r.search.length)),i+r.search.length<t.length&&o.default.createElement("span",null,t.slice(i+r.search.length,t.length)))}return o.default.createElement("span",{className:a.Classes.TREE_NODE_LABEL},t)},renderDragBetweenLine:function(e){var t=e.draggingPosition,n=e.lineProps;return o.default.createElement("div",r({},n,{style:{position:"absolute",right:"0",top:"between-items"===t.targetType&&"top"===t.linePosition?"0px":"between-items"===t.targetType&&"bottom"===t.linePosition?"-4px":"-2px",left:23*t.depth+"px",height:"4px",backgroundColor:a.Colors.BLUE3}}))},renderRenameInput:function(e){return o.default.createElement("form",r({},e.formProps,{style:{display:"contents"}}),o.default.createElement("span",{className:a.Classes.TREE_NODE_LABEL},o.default.createElement("input",r({},e.inputProps,{ref:e.inputRef,className:"rct-tree-item-renaming-input"}))),o.default.createElement("span",{className:a.Classes.TREE_NODE_SECONDARY_LABEL},o.default.createElement(a.Button,r({icon:"tick"},e.submitButtonProps,{type:"submit",minimal:!0,small:!0}))))},renderSearchInput:function(e){return o.default.createElement("div",{className:l("rct-tree-search-input-container")},o.default.createElement(a.InputGroup,r({},e.inputProps,{placeholder:"Search..."})))},renderDepthOffset:1}},5486:function(e,t,n){n.d(t,{p:function(){return h},g:function(){return g}});var r=n(2784),i=n(5269),o=n(2570),a=n(490),l=n(2057),u=n(2670),c=n(4832),s=function(e){var t=(0,r.useRef)(e);return t.current=e,t},d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)},m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},f=function(e){var t,n,i=e.onExpandItem,o=e.onCollapseItem,a=e.onDrop,f=m(e,["onExpandItem","onCollapseItem","onDrop"]),v=(0,r.useState)({}),p=v[0],g=v[1],h=(0,r.useState)({}),I=h[0],b=h[1],y=(0,r.useState)(),C=y[0],E=y[1],x=s(f.viewState),w=(0,r.useMemo)((function(){return Object.keys(p)}),[p]),D=f.onFocusItem,T=f.autoFocus,P=f.onRegisterTree,S=f.onUnregisterTree,O=f.items,k=s(D),R=(t=function(){setTimeout((function(){b((0,u.O)(w,(function(e){var t;return(0,c.K)(p[e].rootItem,null!==(t=x.current[e])&&void 0!==t?t:{},O)})))}))},n=s(t),(0,r.useCallback)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.current.apply(n,e)}),[n]));(0,r.useEffect)((function(){return R()}),[O,w,R]);var _=(0,r.useCallback)((function(e,t){var n,r,i,o,a,l;if((null===(n=x.current[t])||void 0===n?void 0:n.focusedItem)!==e.index){null===(r=k.current)||void 0===r||r.call(k,e,t);var u=document.querySelector('[data-rct-tree="'+t+'"] [data-rct-item-id="'+e.index+'"]');(null==T||T)&&("true"!==(null===(o=null===(i=document.activeElement)||void 0===i?void 0:i.attributes.getNamedItem("data-rct-search-input"))||void 0===o?void 0:o.value)?null===(l=null===(a=u)||void 0===a?void 0:a.focus)||void 0===l||l.call(a):function(e){if(e)if(e.scrollIntoViewIfNeeded)e.scrollIntoViewIfNeeded();else{var t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)||e.scrollIntoView()}}(u))}}),[T,k,x]),N=(0,r.useCallback)((function(e){g((function(t){var n;return d(d({},t),((n={})[e.treeId]=e,n))})),null==P||P(e),R()}),[P,R]),A=(0,r.useCallback)((function(e){null==S||S(p[e]),delete p[e],g(p)}),[S,p]),j=(0,r.useCallback)((function(e,t){null==o||o(e,t),R()}),[o,R]),L=(0,r.useCallback)((function(e,t){null==i||i(e,t),R()}),[i,R]),M=(0,r.useCallback)((function(e,t){null==a||a(e,t),R()}),[a,R]),F=(0,r.useCallback)((function(e,t){void 0===t&&(t=!0);var n=function(e){var n,r,i;t&&(null==T||T)&&e&&!(null===(n=document.querySelector('[data-rct-tree="'+e+'"]'))||void 0===n?void 0:n.contains(document.activeElement))&&(null===(i=null===(r=document.querySelector('[data-rct-tree="'+e+'"] [data-rct-item-focus="true"]'))||void 0===r?void 0:r.focus)||void 0===i||i.call(r))};if("function"==typeof e)E((function(t){var r=e(t);return r!==t&&n(r),r}));else{var r=e;E(r),n(r)}}),[T]),B=function(e){var t=e.renderItem,n=e.renderItemTitle,i=e.renderItemArrow,o=e.renderRenameInput,a=e.renderDraggingItem,u=e.renderDraggingItemTitle,c=e.renderItemsContainer,s=e.renderTreeContainer,d=e.renderDragBetweenLine,m=e.renderSearchInput,f=e.renderLiveDescriptorContainer,v=e.renderDepthOffset,p=(0,r.useMemo)((function(){return(0,l.r)(null!=v?v:10)}),[v]),g={renderItem:t,renderItemTitle:n,renderItemArrow:i,renderRenameInput:o,renderDraggingItem:a,renderDraggingItemTitle:u,renderItemsContainer:c,renderTreeContainer:s,renderDragBetweenLine:d,renderSearchInput:m,renderLiveDescriptorContainer:f,renderDepthOffset:v},h=Object.entries(p).reduce((function(e,t){var n=t[0],r=t[1],i=n;return e[i]=g[i]?g[i]:r,e}),{});return h.renderItem.displayName="RenderItem",h.renderItemTitle.displayName="RenderItemTitle",h.renderItemArrow.displayName="RenderItemArrow",h.renderRenameInput.displayName="RenderRenameInput",h.renderDraggingItem.displayName="RenderDraggingItem",h.renderDraggingItemTitle.displayName="RenderDraggingItemTitle",h.renderItemsContainer.displayName="RenderItemsContainer",h.renderTreeContainer.displayName="RenderTreeContainer",h.renderDragBetweenLine.displayName="RenderDragBetweenLine",h.renderSearchInput.displayName="RenderSearchInput",h}(f);return d(d(d({},B),f),{onFocusItem:_,registerTree:N,unregisterTree:A,onExpandItem:L,onCollapseItem:j,onDrop:M,setActiveTree:F,treeIds:w,trees:p,activeTreeId:C,linearItems:I})},v=function(){return v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},v.apply(this,arguments)},p=r.createContext(null),g=function(){return(0,r.useContext)(p)},h=r.forwardRef((function(e,t){for(var n,l,u,c=f(e),s=e.viewState,d=0,m=Object.keys(c.trees);d<m.length;d++){var g=m[d];!(null===(n=s[g])||void 0===n?void 0:n.focusedItem)&&c.trees[g]&&(s[g]=v(v({},s[g]),{focusedItem:null===(u=null===(l=e.items[c.trees[g].rootItem])||void 0===l?void 0:l.children)||void 0===u?void 0:u[0]}))}return r.createElement(p.Provider,{value:c},r.createElement(i.L,null,r.createElement(o.b,null,r.createElement(a.o,{ref:t},e.children))))}))},2570:function(e,t,n){n.d(t,{b:function(){return v},Y:function(){return f}});var r=n(2784),i=n(5486),o=function(){var e=(0,i.g)();return(0,r.useCallback)((function(t,n){for(var r=e.linearItems[n],i=r[t].depth,o=t;r[o]&&r[o].depth!==i-1;o--);var a=r[o];return a||(a={item:e.trees[n].rootItem,depth:0},o=0),a}),[e.linearItems,e.trees])},a=function(e,t,n,a,l){var u=(0,i.g)(),c=u.canDropOnItemWithChildren,s=u.canDropOnItemWithoutChildren,d=u.canDragAndDrop,m=u.linearItems,f=u.items,v=u.canReorderItems,p=u.viewState,g=o();return(0,r.useCallback)((function(r,i,o){var u,h,I,b;if(d&&o.current&&!(r.clientX<0||r.clientY<0)){var y=o.current.getBoundingClientRect(),C=function(e,t){return e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom}(r,y),E=function(e,t,n,r,i){var o=(e-t)/n,a=void 0,l=r||i?.2:.5;return o%1<l?a="top":o%1>1-l&&(a="bottom"),{linearIndex:Math.floor(o),offset:a}}(r.clientY,y.top,n,c,s),x=E.linearIndex,w=E.offset,D=C?"outside":""+i+x+(null!=w?w:"");if(e!==D)if(t(D),C)a(void 0);else if(x<0||x>=m[i].length)a(void 0);else{var T=m[i][x],P=T.depth,S=f[T.item];if(w||s||S.hasChildren)if(w||c||!S.hasChildren)if(!w||v){var O=g(x,i);if(!(null===(h=null===(u=p[i])||void 0===u?void 0:u.selectedItems)||void 0===h?void 0:h.includes(T.item))){var k,R=f[O.item].children.indexOf(T.item)+("top"===w?0:1);"top"===w&&P===(null!==(b=null===(I=m[i][x-1])||void 0===I?void 0:I.depth)&&void 0!==b?b:-1)&&(w="bottom",x-=1),k=w?{targetType:"between-items",treeId:i,parentItem:O.item,depth:T.depth,linearIndex:x+("top"===w?0:1),childIndex:R,linePosition:w}:{targetType:"item",treeId:i,parentItem:O.item,targetItem:T.item,depth:T.depth,linearIndex:x},l(k)}}else a(void 0);else a(void 0);else a(void 0)}}}),[d,c,s,v,g,n,f,e,m,a,l,t,p])},l=function(){var e=(0,i.g)();return(0,r.useCallback)((function(t,n){if("between-items"===t.targetType){if(!e.canReorderItems)return!1}else{var r=e.items[t.targetItem];if(!e.canDropOnItemWithChildren&&r.hasChildren||!e.canDropOnItemWithoutChildren&&!r.hasChildren)return!1}return!!(!e.canDropAt||n&&e.canDropAt(n,t))}),[e])},u=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},c=n(5908),s=n(2670),d=n(4629),m=r.createContext(null),f=function(){return r.useContext(m)},v=function(e){var t=(0,i.g)(),n=(0,r.useState)(!1),f=n[0],v=n[1],p=(0,r.useState)(4),g=p[0],h=p[1],I=(0,r.useState)({}),b=I[0],y=I[1],C=(0,r.useState)(0),E=C[0],x=C[1],w=(0,r.useState)(),D=w[0],T=w[1],P=(0,r.useState)(),S=P[0],O=P[1],k=(0,r.useState)("_nodrag"),R=k[0],_=k[1],N=function(){var e=(0,i.g)(),t=o(),n=l();return(0,r.useCallback)((function(r,i){var o=e.linearItems[r];return o.map((function(n,i){var a,l,u=n.item,c=n.depth,s=t(i,r),d=e.items[s.item].children.indexOf(u),m={targetType:"item",parentItem:s.item,targetItem:u,linearIndex:i,depth:c,treeId:r},f={targetType:"between-items",parentItem:s.item,linePosition:"top",childIndex:d,depth:c,treeId:r,linearIndex:i},v={targetType:"between-items",parentItem:s.item,linePosition:"bottom",linearIndex:i+1,childIndex:d+1,depth:c,treeId:r};return c===(null!==(l=null===(a=o[i-1])||void 0===a?void 0:a.depth)&&void 0!==l?l:-1)?[m,v]:[f,m,v]})).reduce((function(e,t){return u(u([],e),t)}),[]).filter((function(e){return n(e,i)}))}),[n,e.items,e.linearItems,t])}(),A=(0,d._)(),j=((0,r.useRef)(!1),(0,r.useCallback)((function(e,n){var r;if(t.activeTreeId&&(null===(r=t.viewState[t.activeTreeId])||void 0===r?void 0:r.focusedItem)&&t.linearItems&&n){var i=t.viewState[t.activeTreeId].focusedItem,o=N(t.activeTreeId,n),a=o.findIndex((function(e){return"item"===e.targetType?e.targetItem===i:"between-items"===e.targetType?t.items[e.parentItem].children[e.childIndex]===i:void 0}));x(a?Math.min(a+1,o.length-1):0)}else x(0)}),[t.activeTreeId,t.items,t.linearItems,t.viewState,N])),L=(0,r.useCallback)((function(){v(!1),h(4),y({}),x(0),T(void 0),O(void 0),_("_nodrag")}),[]);(0,c.R)((function(){t.activeTreeId&&t.linearItems[t.activeTreeId]&&b[t.activeTreeId]&&j(b[t.activeTreeId],D)}),[D,t.activeTreeId,t.linearItems,j,b],[t.activeTreeId]),(0,c.R)((function(){f&&t.activeTreeId&&O(b[t.activeTreeId][E])}),[E,t.activeTreeId,f,b],[E,t.activeTreeId]);var M=l(),F=a(R,_,g,O,(function(e){var n;D&&!M(e,D)||(O(e),t.setActiveTree(e.treeId),D&&t.activeTreeId!==e.treeId&&(null===(n=t.onSelectItems)||void 0===n||n.call(t,D.map((function(e){return e.index})),e.treeId)))})),B=(0,r.useCallback)((function(){D&&S&&t.onDrop&&(t.onDrop(D,S),A((function(){var e;null===(e=t.onFocusItem)||void 0===e||e.call(t,D[0],S.treeId),L()})))}),[D,S,t,L,A]),U=(0,r.useCallback)((function(e,n){var r,i,o=(0,s.O)(t.treeIds,(function(t){return N(t,e)})),a=null!==(i=null===(r=document.querySelector('[data-rct-tree="'+n+'"] [data-rct-item-container="true"]'))||void 0===r?void 0:r.offsetHeight)&&void 0!==i?i:5;h(a),T(e),y(o),t.activeTreeId&&j(o[t.activeTreeId],e)}),[t.activeTreeId,t.treeIds,N,j]),K=(0,r.useCallback)((function(){var e,n,r;if(t.canDragAndDrop&&t.activeTreeId){var i=null!==(n=null===(e=t.viewState[t.activeTreeId])||void 0===e?void 0:e.selectedItems)&&void 0!==n?n:[null===(r=t.viewState[t.activeTreeId])||void 0===r?void 0:r.focusedItem];if(0===i.length||void 0===i[0])return;var o=i.map((function(e){return t.items[e]}));if(t.canDrag&&!t.canDrag(o))return;U(o,t.activeTreeId),setTimeout((function(){v(!0)}))}}),[U,t]),Y=(0,r.useCallback)((function(){L()}),[L]),W=(0,r.useCallback)((function(){B(),L()}),[B,L]),H=(0,r.useCallback)((function(){x((function(e){return Math.max(0,e-1)}))}),[]),q=(0,r.useCallback)((function(){t.activeTreeId&&x((function(e){return Math.min(b[t.activeTreeId].length,e+1)}))}),[t.activeTreeId,b]),z={onStartDraggingItems:U,startProgrammaticDrag:K,abortProgrammaticDrag:Y,completeProgrammaticDrag:W,programmaticDragUp:H,programmaticDragDown:q,draggingItems:D,draggingPosition:S,itemHeight:g,isProgrammaticallyDragging:f,onDragOverTreeHandler:F,viableDragPositions:b};return(0,r.useEffect)((function(){return window.addEventListener("dragend",L),window.addEventListener("drop",B),function(){window.removeEventListener("dragend",L),window.removeEventListener("drop",B)}}),[B,L]),r.createElement(m.Provider,{value:z},e.children)}},5269:function(e,t,n){n.d(t,{L:function(){return f},H:function(){return m}});var r=n(2784),i=n(7509),o=n(5486),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},l=function(){function e(e){this.mode=i.A.DoubleClickItemToExpand,this.environment=e}return e.prototype.createInteractiveElementProps=function(e,t,n,r){var i=this;return{onClick:function(e){n.focusItem(),e.shiftKey?n.selectUpTo():e.ctrlKey?r.isSelected?n.unselectItem():n.addToSelectedItems():n.selectItem()},onDoubleClick:function(){n.focusItem(),n.selectItem(),e.hasChildren&&n.toggleExpandedState(),e.hasChildren&&!i.environment.canInvokePrimaryActionOnItemContainer||n.primaryAction()},onFocus:function(){n.focusItem()},onDragStart:function(e){e.dataTransfer.dropEffect="move",n.startDragging()},onDragOver:function(e){e.preventDefault()},draggable:r.canDrag&&!r.isRenaming,tabIndex:r.isRenaming?void 0:r.isFocused?0:-1}},e}(),u=function(){function e(e){this.mode=i.A.ClickItemToExpand,this.environment=e}return e.prototype.createInteractiveElementProps=function(e,t,n,r){var i=this;return{onClick:function(t){n.focusItem(),t.shiftKey?n.selectUpTo():t.ctrlKey?r.isSelected?n.unselectItem():n.addToSelectedItems():(e.hasChildren&&n.toggleExpandedState(),n.selectItem(),e.hasChildren&&!i.environment.canInvokePrimaryActionOnItemContainer||n.primaryAction())},onFocus:function(){n.focusItem()},onDragStart:function(e){e.dataTransfer.dropEffect="move",n.startDragging()},onDragOver:function(e){e.preventDefault()},draggable:r.canDrag&&!r.isRenaming,tabIndex:r.isRenaming?void 0:r.isFocused?0:-1}},e}(),c=function(){function e(e){this.mode=i.A.ClickItemToExpand,this.environment=e}return e.prototype.createInteractiveElementProps=function(e,t,n,r){var i=this;return{onClick:function(t){n.focusItem(),t.shiftKey?n.selectUpTo():t.ctrlKey?r.isSelected?n.unselectItem():n.addToSelectedItems():(n.selectItem(),e.hasChildren&&!i.environment.canInvokePrimaryActionOnItemContainer||n.primaryAction())},onFocus:function(){n.focusItem()},onDragStart:function(e){e.dataTransfer.dropEffect="move",n.startDragging()},onDragOver:function(e){e.preventDefault()},draggable:r.canDrag&&!r.isRenaming,tabIndex:r.isRenaming?void 0:r.isFocused?0:-1}},e}(),s=function(e,t){switch(e){case i.A.DoubleClickItemToExpand:return new l(t);case i.A.ClickItemToExpand:return new u(t);case i.A.ClickArrowToExpand:return new c(t);default:throw Error("Unknown interaction mode "+e)}},d=r.createContext(null),m=function(){return r.useContext(d)},f=function(e){var t=(0,o.g)(),n=t.defaultInteractionMode,l=(0,r.useMemo)((function(){var e,r,o;return n&&"string"!=typeof n?n.extends?(r=n,o=s(n.extends,t),{mode:r.mode,createInteractiveElementProps:function(e,t,n,i){return a(a({},o.createInteractiveElementProps(e,t,n,i)),r.createInteractiveElementProps(e,t,n,i))}}):n:s(null!==(e=n)&&void 0!==e?e:i.A.ClickItemToExpand,t)}),[]);return r.createElement(d.Provider,{value:l},e.children)}},490:function(e,t,n){n.d(t,{o:function(){return s},O:function(){return c}});var r=n(2784),i=n(2570),o=n(5486),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},l=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},u=r.createContext(null),c=function(){return r.useContext(u)},s=r.forwardRef((function(e,t){var n=(0,o.g)(),c=n.onCollapseItem,s=n.items,d=(n.trees,n.viewState),m=n.onExpandItem,f=n.onFocusItem,v=n.setActiveTree,p=n.onRenameItem,g=n.onSelectItems,h=n.onPrimaryAction,I=n.linearItems,b=(0,i.Y)(),y=b.abortProgrammaticDrag,C=b.completeProgrammaticDrag,E=b.programmaticDragDown,x=b.programmaticDragUp,w=b.startProgrammaticDrag,D={abortProgrammaticDrag:(0,r.useCallback)((function(){y()}),[y]),collapseItem:(0,r.useCallback)((function(e,t){null==c||c(s[e],t)}),[s,c]),completeProgrammaticDrag:(0,r.useCallback)((function(){C()}),[C]),expandItem:(0,r.useCallback)((function(e,t){null==m||m(s[e],t)}),[s,m]),focusItem:(0,r.useCallback)((function(e,t){null==f||f(s[e],t)}),[s,f]),focusTree:(0,r.useCallback)((function(e,t){void 0===t&&(t=!0),v(e,t)}),[v]),moveFocusDown:(0,r.useCallback)((function(e){var t=I[e],n=t.findIndex((function(t){var n;return t.item===(null===(n=d[e])||void 0===n?void 0:n.focusedItem)})),r=void 0!==n?Math.min(t.length-1,n+1):0,i=s[t[r].item];null==f||f(i,e)}),[s,I,f,d]),moveFocusUp:(0,r.useCallback)((function(e){var t=I[e],n=t.findIndex((function(t){var n;return t.item===(null===(n=d[e])||void 0===n?void 0:n.focusedItem)})),r=void 0!==n?Math.max(0,n-1):0,i=s[t[r].item];null==f||f(i,e)}),[s,I,f,d]),moveProgrammaticDragPositionDown:(0,r.useCallback)((function(){E()}),[E]),moveProgrammaticDragPositionUp:(0,r.useCallback)((function(){x()}),[x]),renameItem:(0,r.useCallback)((function(e,t,n){null==p||p(s[e],t,n)}),[s,p]),selectItems:(0,r.useCallback)((function(e,t){null==g||g(e,t)}),[g]),startProgrammaticDrag:(0,r.useCallback)((function(){w()}),[w]),toggleItemExpandedState:(0,r.useCallback)((function(e,t){var n,r;(null===(r=null===(n=d[t])||void 0===n?void 0:n.expandedItems)||void 0===r?void 0:r.includes(e))?null==c||c(s[e],t):null==m||m(s[e],t)}),[s,c,m,d]),toggleItemSelectStatus:(0,r.useCallback)((function(e,t){var n,r,i,o,a;(null===(r=null===(n=d[t])||void 0===n?void 0:n.selectedItems)||void 0===r?void 0:r.includes(e))?null==g||g(null!==(o=null===(i=d[t].selectedItems)||void 0===i?void 0:i.filter((function(t){return t!==e})))&&void 0!==o?o:[],t):null==g||g(l(l([],null!==(a=d[t].selectedItems)&&void 0!==a?a:[]),[e]),t)}),[g,d]),invokePrimaryAction:(0,r.useCallback)((function(e,t){null==h||h(s[e],t)}),[s,h])};return function(e,t){var n=(0,o.g)(),l=(0,i.Y)();(0,r.useImperativeHandle)(e,(function(){return a(a(a({},t),n),{treeEnvironmentContext:n,dragAndDropContext:l})}))}(t,D),r.createElement(u.Provider,{value:D},e.children)}))},7730:function(e,t,n){n.r(t),n.d(t,{ControlledTreeEnvironment:function(){return r.p},InteractionMode:function(){return l.A},StaticTreeDataProvider:function(){return a.j},Tree:function(){return i.m},UncontrolledTreeEnvironment:function(){return o.q},createDefaultRenderers:function(){return u.r},useTree:function(){return i.Z},useTreeEnvironment:function(){return r.g}});var r=n(5486),i=n(6524),o=n(4095),a=n(4659),l=n(7509),u=n(2057)},2057:function(e,t,n){n.d(t,{r:function(){return a}});var r=n(2784),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter((function(e){return!!e})).join(" ")},a=function(e){return{renderItemTitle:function(e){var t=e.title,n=e.context,i=e.info;if(i.isSearching&&n.isSearchMatching){var o=t.toLowerCase().indexOf(i.search.toLowerCase());return r.createElement(r.Fragment,null,o>0&&r.createElement("span",null,t.slice(0,o)),r.createElement("span",{className:"rct-tree-item-search-highlight"},t.slice(o,o+i.search.length)),o+i.search.length<t.length&&r.createElement("span",null,t.slice(o+i.search.length,t.length)))}return r.createElement(r.Fragment,null,t)},renderItemArrow:function(e){var t=e.item,n=e.context;return r.createElement("div",i({className:o(t.hasChildren&&"rct-tree-item-arrow-hasChildren","rct-tree-item-arrow")},n.arrowProps),t.hasChildren&&(n.isExpanded?r.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 16 16",enableBackground:"new 0 0 16 16",xmlSpace:"preserve"},r.createElement("g",null,r.createElement("g",null,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12,5c-0.28,0-0.53,0.11-0.71,0.29L8,8.59L4.71,5.29C4.53,5.11,4.28,5,4,5\n                      C3.45,5,3,5.45,3,6c0,0.28,0.11,0.53,0.29,0.71l4,4C7.47,10.89,7.72,11,8,11s0.53-0.11,0.71-0.29l4-4C12.89,6.53,13,6.28,13,6\n                      C13,5.45,12.55,5,12,5z",className:"rct-tree-item-arrow-path"})))):r.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 16 16",enableBackground:"new 0 0 16 16",xmlSpace:"preserve"},r.createElement("g",null,r.createElement("g",null,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.71,7.29l-4-4C6.53,3.11,6.28,3,6,3C5.45,3,5,3.45,5,4\n                      c0,0.28,0.11,0.53,0.29,0.71L8.59,8l-3.29,3.29C5.11,11.47,5,11.72,5,12c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l4-4\n                      C10.89,8.53,11,8.28,11,8C11,7.72,10.89,7.47,10.71,7.29z",className:"rct-tree-item-arrow-path"}))))))},renderItem:function(t){var n=t.item,a=t.depth,l=t.children,u=t.title,c=t.context,s=t.arrow,d=c.isRenaming?"div":"button",m=c.isRenaming?void 0:"button";return r.createElement("li",i({},c.itemContainerWithChildrenProps,{className:o("rct-tree-item-li",n.hasChildren&&"rct-tree-item-li-hasChildren",c.isSelected&&"rct-tree-item-li-selected",c.isExpanded&&"rct-tree-item-li-expanded",c.isFocused&&"rct-tree-item-li-focused",c.isDraggingOver&&"rct-tree-item-li-dragging-over",c.isSearchMatching&&"rct-tree-item-li-search-match")}),r.createElement("div",i({},c.itemContainerWithoutChildrenProps,{style:{paddingLeft:(a+1)*e+"px"},className:o("rct-tree-item-title-container",n.hasChildren&&"rct-tree-item-title-container-hasChildren",c.isSelected&&"rct-tree-item-title-container-selected",c.isExpanded&&"rct-tree-item-title-container-expanded",c.isFocused&&"rct-tree-item-title-container-focused",c.isDraggingOver&&"rct-tree-item-title-container-dragging-over",c.isSearchMatching&&"rct-tree-item-title-container-search-match")}),s,r.createElement(d,i({type:m},c.interactiveElementProps,{className:o("rct-tree-item-button",n.hasChildren&&"rct-tree-item-button-hasChildren",c.isSelected&&"rct-tree-item-button-selected",c.isExpanded&&"rct-tree-item-button-expanded",c.isFocused&&"rct-tree-item-button-focused",c.isDraggingOver&&"rct-tree-item-button-dragging-over",c.isSearchMatching&&"rct-tree-item-button-search-match")}),u)),l)},renderRenameInput:function(e){var t=e.inputProps,n=e.inputRef,o=e.submitButtonProps,a=e.submitButtonRef,l=e.formProps;return r.createElement("form",i({},l,{className:"rct-tree-item-renaming-form"}),r.createElement("input",i({},t,{ref:n,className:"rct-tree-item-renaming-input"})),r.createElement("input",i({},o,{ref:a,type:"submit",className:"rct-tree-item-renaming-submit-button",value:"\ud83d\uddf8"})))},renderDraggingItem:function(){return r.createElement("div",null)},renderDraggingItemTitle:function(){return r.createElement("div",null)},renderTreeContainer:function(e){var t=e.children,n=e.containerProps,a=e.info;return r.createElement("div",{className:o("rct-tree-root",a.isFocused&&"rct-tree-root-focus",a.isRenaming&&"rct-tree-root-renaming",a.areItemsSelected&&"rct-tree-root-itemsselected")},r.createElement("div",i({},n),t))},renderItemsContainer:function(e){var t=e.children,n=e.containerProps;return r.createElement("ul",i({},n,{className:"rct-tree-items-container"}),t)},renderDragBetweenLine:function(t){var n=t.draggingPosition,a=t.lineProps;return r.createElement("div",i({},a,{style:{left:n.depth*e+"px"},className:o("rct-tree-drag-between-line","between-items"===n.targetType&&"top"===n.linePosition&&"rct-tree-drag-between-line-top","between-items"===n.targetType&&"bottom"===n.linePosition&&"rct-tree-drag-between-line-bottom")}))},renderSearchInput:function(e){var t=e.inputProps;return r.createElement("div",{className:o("rct-tree-search-input-container")},r.createElement("input",i({},t,{className:o("rct-tree-search-input")})))},renderLiveDescriptorContainer:function(e){var t=e.tree,n=e.children;return r.createElement("div",{id:"rct-livedescription-"+t.treeId,style:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"}},n)},renderDepthOffset:10}}},6524:function(e,t,n){n.d(t,{m:function(){return J},Z:function(){return X}});var r=n(2784),i=n(5486),o=function(){var e,t=X().treeId;return null!==(e=(0,i.g)().viewState[t])&&void 0!==e?e:{}},a=function(e,t,n){return n.toLowerCase().includes(e.toLowerCase())},l=n(5269),u=n(2570),c=function(e){return(0,i.g)().linearItems[e]},s=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},d=function(){var e=o(),t=X().treeId,n=c(t),a=(0,i.g)().onSelectItems;return(0,r.useCallback)((function(r){var i,o;if(e&&e.selectedItems&&e.selectedItems.length>0){var l=n.findIndex((function(t){var n;return null===(n=e.selectedItems)||void 0===n?void 0:n.includes(t.item)})),u=n.findIndex((function(e){return e.item===r.index}));if(l<u){var c=n.slice(l,u+1).map((function(e){return e.item}));null==a||a(s(s([],null!==(i=null==e?void 0:e.selectedItems)&&void 0!==i?i:[]),c),t)}else{c=n.slice(u,l).map((function(e){return e.item}));null==a||a(s(s([],null!==(o=null==e?void 0:e.selectedItems)&&void 0!==o?o:[]),c),t)}}else null==a||a([r.index],t)}),[a,n,t,e])},m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},m.apply(this,arguments)},f=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},v=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},p=function(e,t,n,i){void 0===i&&(i=[]),(0,r.useEffect)((function(){if(e)return e.addEventListener(t,n),function(){return e.removeEventListener(t,n)}}),v([e,n,t],i))},g={expandSiblings:["control+*"],moveFocusToFirstItem:["home"],moveFocusToLastItem:["end"],primaryAction:["enter"],renameItem:["f2"],abortRenameItem:["escape"],toggleSelectItem:["control+space"],abortSearch:["escape","enter"],startSearch:[],selectAll:["control+a"],startProgrammaticDnd:["control+d"],completeProgrammaticDnd:["enter"],abortProgrammaticDnd:["escape"]},h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h.apply(this,arguments)},I=function(){var e=(0,i.g)();return(0,r.useMemo)((function(){return e.keyboardBindings?h(h({},g),e.keyboardBindings):g}),[e.keyboardBindings])},b=n(4629),y=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},C=["input","textarea"],E=function(e,t,n,i,o){void 0===i&&(i=!1);var a=(0,r.useRef)([]),l=I(),u=(0,b._)(),c=(0,r.useMemo)((function(){return l[e].map((function(e){return e.split("+")}))}),[e,l]);p(document,"keydown",(function(e){if(!1!==n&&(!C.includes(e.target.tagName.toLowerCase())&&!e.target.isContentEditable||i)&&!a.current.includes(e.key)){a.current.push(e.key);var t=a.current.map((function(e){return e.toLowerCase()}));c.map((function(e){return t.map((function(t){return e.includes(t.toLowerCase())})).reduce((function(e,t){return e&&t}),!0)})).reduce((function(e,t){return e||t}),!1)&&(a.current.length>1||!/^[a-zA-Z]$/.test(e.key))&&e.preventDefault()}}),[n]),p(document,"keyup",(function(e){if(!1!==n){var r=a.current.map((function(e){return e.toLowerCase()}));c.map((function(e){return e.map((function(e){return r.includes(e.toLowerCase())})).reduce((function(e,t){return e&&t}),!0)})).reduce((function(e,t){return e||t}),!1)&&u((function(){return t(e)})),a.current=a.current.filter((function(t){return t!==e.key}))}}),y([c,t,n,u],null!=o?o:[]))},x=n(5908),w=function(e){var t=X(),n=t.renderers,o=t.treeInformation,a=t.setRenamingItem,l=t.treeId,u=(0,i.g)(),c=(0,r.useRef)(null),s=(0,r.useRef)(null),d=u.items[e.itemIndex],m=(0,r.useState)(u.getItemTitle(d)),f=m[0],v=m[1],p=(0,b._)(),g=function(){var e;null===(e=u.onAbortRenamingItem)||void 0===e||e.call(u,d,o.treeId),a(null),p((function(){u.setActiveTree(l)}))},h=function(){var e;null===(e=u.onRenameItem)||void 0===e||e.call(u,d,f,o.treeId),a(null),p((function(){u.setActiveTree(l)}))};(0,x.R)((function(){var e,t,n;u.setActiveTree(l),(null===(e=u.autoFocus)||void 0===e||e)&&(null===(t=c.current)||void 0===t||t.select(),null===(n=c.current)||void 0===n||n.focus())}),[u,l],[]),E("abortRenameItem",(function(){g()}),!0,!0);var I={value:f,onChange:function(e){v(e.target.value)},onBlur:function(e){e.relatedTarget!==s.current&&g()},"aria-label":"New item name",tabIndex:0},y={onClick:function(e){e.stopPropagation(),h()}},C={onSubmit:function(e){e.preventDefault(),h()}};return n.renderRenameInput({item:d,inputRef:c,submitButtonProps:y,submitButtonRef:s,formProps:C,inputProps:I})},D=function(e){var t,n,c=(0,r.useState)(!1),s=c[0],v=c[1],p=X(),g=p.renderers,h=p.treeInformation,I=p.renamingItem,b=(0,i.g)(),y=o(),C=b.items[e.itemIndex],E=(0,r.useMemo)((function(){var t;return null===(t=y.expandedItems)||void 0===t?void 0:t.includes(e.itemIndex)}),[e.itemIndex,y.expandedItems]),x=function(e){var t,n,o,c,s=X(),v=s.treeId,p=s.search,g=s.renamingItem,h=(0,i.g)(),I=(0,l.H)(),b=(0,u.Y)(),y=d(),C=e&&h.getItemTitle(e),E=(0,r.useMemo)((function(){var t;return!(null===p||0===p.length||!e||!C)&&(null!==(t=h.doesSearchMatchItem)&&void 0!==t?t:a)(p,e,C)}),[p,e,C,h.doesSearchMatchItem]),x=e&&(null===(n=null===(t=h.viewState[v])||void 0===t?void 0:t.selectedItems)||void 0===n?void 0:n.includes(e.index)),w=e&&(null===(c=null===(o=h.viewState[v])||void 0===o?void 0:o.expandedItems)||void 0===c?void 0:c.includes(e.index)),D=e&&g===e.index;return(0,r.useMemo)((function(){var t,n,r,i,o,a,l,u,c,s,d;if(e){var p=h.viewState[v],g=(null!==(i=null===(r=null==p?void 0:p.selectedItems)||void 0===r?void 0:r.map((function(e){return h.items[e]})))&&void 0!==i?i:(null==p?void 0:p.focusedItem)?[h.items[null==p?void 0:p.focusedItem]]:[]).filter((function(e){return!!e})),C=!!g.find((function(t){return t.index===e.index})),T=g&&(null===(a=null===(o=h.canDrag)||void 0===o?void 0:o.call(h,g))||void 0===a||a)&&g.map((function(e){var t;return null===(t=e.canMove)||void 0===t||t})).reduce((function(e,t){return e&&t}),!0),P=(null===(u=null===(l=h.canDrag)||void 0===l?void 0:l.call(h,[e]))||void 0===u||u)&&(null===(c=e.canMove)||void 0===c||c),S=h.canDragAndDrop&&(C&&T||!C&&P),O=h.canDragAndDrop&&!!(null===(d=null===(s=b.viableDragPositions)||void 0===s?void 0:s[v])||void 0===d?void 0:d.find((function(t){return"item"===t.targetType&&t.targetItem===e.index}))),k={primaryAction:function(){var t;null===(t=h.onPrimaryAction)||void 0===t||t.call(h,h.items[e.index],v)},collapseItem:function(){var t;null===(t=h.onCollapseItem)||void 0===t||t.call(h,e,v)},expandItem:function(){var t;null===(t=h.onExpandItem)||void 0===t||t.call(h,e,v)},toggleExpandedState:function(){var t,n;w?null===(t=h.onCollapseItem)||void 0===t||t.call(h,e,v):null===(n=h.onExpandItem)||void 0===n||n.call(h,e,v)},selectItem:function(){var t;null===(t=h.onSelectItems)||void 0===t||t.call(h,[e.index],v)},addToSelectedItems:function(){var t,n;null===(t=h.onSelectItems)||void 0===t||t.call(h,f(f([],null!==(n=null==p?void 0:p.selectedItems)&&void 0!==n?n:[]),[e.index]),v)},unselectItem:function(){var t,n,r;null===(t=h.onSelectItems)||void 0===t||t.call(h,null!==(r=null===(n=null==p?void 0:p.selectedItems)||void 0===n?void 0:n.filter((function(t){return t!==e.index})))&&void 0!==r?r:[],v)},selectUpTo:function(){y(e)},truncateItem:function(){},untruncateItem:function(){},toggleTruncatedState:function(){},startRenamingItem:function(){},focusItem:function(){var t;null===(t=h.onFocusItem)||void 0===t||t.call(h,e,v)},startDragging:function(){var t,n,r=null!==(t=null==p?void 0:p.selectedItems)&&void 0!==t?t:[];r.includes(e.index)||(r=[e.index],null===(n=h.onSelectItems)||void 0===n||n.call(h,r,v)),S&&b.onStartDraggingItems(r.map((function(e){return h.items[e]})),v)}},R={isSelected:x,isExpanded:w,isFocused:(null==p?void 0:p.focusedItem)===e.index,isRenaming:D,isDraggingOver:b.draggingPosition&&"item"===b.draggingPosition.targetType&&b.draggingPosition.targetItem===e.index&&b.draggingPosition.treeId===v,isDraggingOverParent:!1,isSearchMatching:E,canDrag:S,canDropOn:O},_=m(m({},I.createInteractiveElementProps(e,v,k,R,p)),((t={})["data-rct-item-interactive"]=!0,t["data-rct-item-focus"]=R.isFocused?"true":"false",t["data-rct-item-id"]=e.index,t)),N=m({},((n={})["data-rct-item-container"]="true",n)),A={role:"treeitem","aria-selected":R.isSelected,"aria-expanded":e.hasChildren?R.isExpanded?"true":"false":void 0},j={onClick:function(){e.hasChildren&&k.toggleExpandedState(),k.selectItem()},onFocus:function(){k.focusItem()},onDragOver:function(e){e.preventDefault()},"aria-hidden":!0,tabIndex:-1},L=p?Object.entries(p).reduce((function(t,n){var r=n[0],i=n[1];return t[r]=Array.isArray(i)?i.includes(e.index):i===e.index,t}),{}):{};return m(m(m({},k),R),{interactiveElementProps:_,itemContainerWithChildrenProps:A,itemContainerWithoutChildrenProps:N,arrowProps:j,viewStateFlags:L})}}),[e,h,v,b,x,w,D,E,I,y])}(C);if(void 0===C)return s||(v(!0),null===(t=b.onMissingItems)||void 0===t||t.call(b,[e.itemIndex])),null;var D=C.hasChildren&&E&&C.children&&r.createElement(T,{depth:e.depth+1,parentId:e.itemIndex},C.children),P=b.getItemTitle(C),S=I===e.itemIndex?r.createElement(w,{itemIndex:e.itemIndex}):g.renderItemTitle({info:h,context:x,title:P,item:C}),O=g.renderItemArrow({info:h,context:x,item:b.items[e.itemIndex]});return null!==(n=g.renderItem({item:b.items[e.itemIndex],depth:e.depth,title:S,arrow:O,context:x,info:h,children:D}))&&void 0!==n?n:null},T=function(e){for(var t=X(),n=t.renderers,i=t.treeInformation,o=[],a=0,l=e.children;a<l.length;a++){var u=l[a];o.push(r.createElement(D,{key:u,itemIndex:u,depth:e.depth}))}if(0===o.length)return null;var c={role:0!==e.depth?"group":void 0};return n.renderItemsContainer({children:o,info:i,containerProps:c})},P=function(e){var t,n=(0,u.Y)(),i=n.draggingPosition,o=n.itemHeight,a=X().renderers;if(!(i&&"between-items"===i.targetType&&i.treeId===e.treeId))return null;return r.createElement("div",{style:{position:"absolute",left:"0",right:"0",top:(null!==(t=null==i?void 0:i.linearIndex)&&void 0!==t?t:0)*o+"px"}},a.renderDragBetweenLine({draggingPosition:i,lineProps:{onDragOver:function(e){return e.preventDefault()}}}))},S=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},O=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},k=function(e,t,n,r){p(document,"keydown",(function(r){n&&n&&e.toLowerCase()===r.key.toLowerCase()&&t(r)}),O([n,e],null!=r?r:[]))},R=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},_=function(){var e,t=(0,i.g)(),n=X(),a=n.treeId,l=n.setRenamingItem,s=n.setSearch,m=n.renamingItem,f=c(a),v=(0,u.Y)(),p=o(),g=function(){var e=X().treeId,t=(0,i.g)(),n=t.onFocusItem,a=t.items,l=c(e),u=o();return(0,r.useCallback)((function(t){var r,i=t(null!==(r=l.findIndex((function(e){return e.item===u.focusedItem})))&&void 0!==r?r:0,l),o=Math.max(0,Math.min(l.length-1,i)),c=a[l[o].item];return null==n||n(c,e),c}),[n,a,l,e,u.focusedItem])}(),h=d(),I=t.activeTreeId===a,b=!!m;k("arrowdown",(0,r.useCallback)((function(e){if(e.preventDefault(),v.isProgrammaticallyDragging)v.programmaticDragDown();else{var t=g((function(e){return e+1}));e.shiftKey&&h(t)}}),[v,g,h]),I&&!b),k("arrowup",(0,r.useCallback)((function(e){if(e.preventDefault(),v.isProgrammaticallyDragging)v.programmaticDragUp();else{var t=g((function(e){return e-1}));e.shiftKey&&h(t)}}),[v,g,h]),I&&!b),E("moveFocusToFirstItem",(0,r.useCallback)((function(e){e.preventDefault(),g((function(){return 0}))}),[g]),I&&!v.isProgrammaticallyDragging&&!b),E("moveFocusToLastItem",(0,r.useCallback)((function(e){e.preventDefault(),g((function(e,t){return t.length-1}))}),[g]),I&&!v.isProgrammaticallyDragging&&!b),k("arrowright",(0,r.useCallback)((function(e){e.preventDefault(),g((function(e,n){var r,i,o=t.items[n[e].item];if(o.hasChildren){if(null===(r=p.expandedItems)||void 0===r?void 0:r.includes(o.index))return e+1;null===(i=t.onExpandItem)||void 0===i||i.call(t,o,a)}return e}))}),[t,g,a,p.expandedItems]),I&&!v.isProgrammaticallyDragging&&!b),k("arrowleft",(0,r.useCallback)((function(e){e.preventDefault(),g((function(e,n){var r,i,o=t.items[n[e].item],l=n[e].depth;if(o.hasChildren&&(null===(r=p.expandedItems)||void 0===r?void 0:r.includes(o.index)))null===(i=t.onCollapseItem)||void 0===i||i.call(t,o,a);else if(l>0){for(var u=e;n[u].depth!==l-1;u--);return u}return e}))}),[t,g,a,p.expandedItems]),I&&!v.isProgrammaticallyDragging&&!b),E("primaryAction",(0,r.useCallback)((function(e){var n,r;e.preventDefault(),void 0!==p.focusedItem&&(null===(n=t.onSelectItems)||void 0===n||n.call(t,[p.focusedItem],a),null===(r=t.onPrimaryAction)||void 0===r||r.call(t,t.items[p.focusedItem],a))}),[t,a,p.focusedItem]),I&&!v.isProgrammaticallyDragging&&!b),E("toggleSelectItem",(0,r.useCallback)((function(e){var n,r,i;e.preventDefault(),void 0!==p.focusedItem&&(p.selectedItems&&p.selectedItems.includes(p.focusedItem)?null===(n=t.onSelectItems)||void 0===n||n.call(t,p.selectedItems.filter((function(e){return e!==p.focusedItem})),a):null===(r=t.onSelectItems)||void 0===r||r.call(t,R(R([],null!==(i=p.selectedItems)&&void 0!==i?i:[]),[p.focusedItem]),a))}),[t,a,p.focusedItem,p.selectedItems]),I&&!v.isProgrammaticallyDragging&&!b),E("selectAll",(0,r.useCallback)((function(e){var n;e.preventDefault(),null===(n=t.onSelectItems)||void 0===n||n.call(t,f.map((function(e){return e.item})),a)}),[t,f,a]),I&&!v.isProgrammaticallyDragging&&!b),E("renameItem",(0,r.useCallback)((function(e){var n;if(void 0!==p.focusedItem){e.preventDefault();var r=t.items[p.focusedItem];null===(n=t.onStartRenamingItem)||void 0===n||n.call(t,r,a),l(r.index)}}),[t,l,a,p.focusedItem]),I&&(null===(e=t.canRename)||void 0===e||e)&&!b),E("startSearch",(0,r.useCallback)((function(e){var t,n;e.preventDefault(),s(""),null===(n=null===(t=document.querySelector('[data-rct-search-input="true"]'))||void 0===t?void 0:t.focus)||void 0===n||n.call(t)}),[s]),I&&!v.isProgrammaticallyDragging&&!b),E("startProgrammaticDnd",(0,r.useCallback)((function(e){e.preventDefault(),v.startProgrammaticDrag()}),[v]),I&&!b),E("completeProgrammaticDnd",(0,r.useCallback)((function(e){e.preventDefault(),v.completeProgrammaticDrag()}),[v]),I&&v.isProgrammaticallyDragging&&!b),E("abortProgrammaticDnd",(0,r.useCallback)((function(e){e.preventDefault(),v.abortProgrammaticDrag()}),[v]),I&&v.isProgrammaticallyDragging&&!b)},N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},N.apply(this,arguments)},A=function(e){var t,n,r=X(),l=r.search,u=r.setSearch,s=r.treeId,d=r.renderers,m=r.renamingItem,f=(0,i.g)();o();var v=f.activeTreeId===s,g=(0,b._)();!function(){var e=(0,i.g)(),t=e.doesSearchMatchItem,n=e.items,r=e.getItemTitle,o=e.onFocusItem,l=X(),u=l.search,s=l.treeId,d=c(s),m=(0,b._)();(0,x.R)((function(){u&&u.length>0&&m((function(){var e=d.find((function(e){var i=e.item;return(null!=t?t:a)(u,n[i],r(n[i]))}));e&&(null==o||o(n[e.item],s))}))}),[t,r,d,n,o,u,s,m],[u])}();var h=function(){var e,t,n;(u(null),null===(e=f.autoFocus)||void 0===e||e)&&(null===(n=null===(t=document.querySelector('[data-rct-tree="'+s+'"] [data-rct-item-focus="true"]'))||void 0===t?void 0:t.focus)||void 0===n||n.call(t))};return E("abortSearch",(function(){g((function(){h()}))}),v&&null!==l,!0,[l,v,g]),p(e.containerRef,"keydown",(function(e){var t,n,r,i,o=e.key.charCodeAt(0);null!==(t=f.canSearch)&&void 0!==t&&!t||null!==(n=f.canSearchByStartingTyping)&&void 0!==n&&!n||!v||null!==l||m||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||!(o>=48&&o<=57||o>=97&&o<=122)||(u(""),null===(i=null===(r=document.querySelector('[data-rct-search-input="true"]'))||void 0===r?void 0:r.focus)||void 0===i||i.call(r))}),[v,l,m,f.canSearchByStartingTyping,f.canSearch]),null!==(n=f.canSearch)&&void 0!==n&&!n||null===l?null:d.renderSearchInput({inputProps:N({value:l,onChange:function(e){return u(e.target.value)},onBlur:function(){h()},"aria-label":"Search for items"},(t={},t["data-rct-search-input"]="true",t))})},j={introduction:"\n    <p>Accessibility guide for tree {treeLabel}.</p>\n    <p>\n      Navigate the tree with the arrow keys. Common tree hotkeys apply. Further keybindings are available:\n    </p>\n    <ul>\n      <li>{keybinding:primaryAction} to execute primary action on focused item</li>\n      <li>{keybinding:renameItem} to start renaming the focused item</li>\n      <li>{keybinding:abortRenameItem} to abort renaming an item</li>\n      <li>{keybinding:startProgrammaticDnd} to start dragging selected items</li>\n    </ul>\n  ",renamingItem:"\n    <p>Renaming the item {renamingItem}.</p>\n    <p>Use the keybinding {keybinding:abortRenameItem} to abort renaming.</p>\n  ",searching:"\n    <p>Searching</p>\n  ",programmaticallyDragging:"\n    <p>Dragging items {dragItems}.</p>\n    <p>Press the arrow keys to move the drag target.</p>\n    <p>Press {keybinding:completeProgrammaticDnd} to drop or {keybinding:abortProgrammaticDnd} to abort.</p>\n  ",programmaticallyDraggingTarget:"\n    <p>Drop target is {dropTarget}.</p>\n  "},L=function(e,t,n,r,i){var o=function(e){return t.getItemTitle(t.items[e])};return e.replace(/({[^\s}]+)}/g,(function(e){var a,l,u,c=e.slice(1,-1);switch(c){case"treeLabel":return null!==(a=r.treeLabel)&&void 0!==a?a:"";case"renamingItem":return r.renamingItem?o(r.renamingItem):"None";case"dragItems":return null!==(u=null===(l=n.draggingItems)||void 0===l?void 0:l.map((function(e){return t.getItemTitle(e)})).join(", "))&&void 0!==u?u:"None";case"dropTarget":if(n.draggingPosition){if("item"===n.draggingPosition.targetType)return"within "+o(n.draggingPosition.targetItem);var s=t.items[n.draggingPosition.parentItem],d=t.getItemTitle(s);return 0===n.draggingPosition.childIndex?"within "+d+" at the start":"within "+d+" after "+o(s.children[n.draggingPosition.childIndex-1])}return"None";default:if(c.startsWith("keybinding:"))return i[c.slice(11)][0];throw Error("Unknown live descriptor variable {"+c+"}")}}))},M=function(){var e=(0,i.g)(),t=X(),n=(0,u.Y)(),o=I(),a=(0,r.useMemo)((function(){var t;return null!==(t=e.liveDescriptors)&&void 0!==t?t:j}),[e.liveDescriptors]),l=(0,r.useMemo)((function(){return function(e){var t=e.children,n=e.live;return r.createElement("div",{"aria-live":n,dangerouslySetInnerHTML:{__html:t}})}}),[]),c=t.renderers.renderLiveDescriptorContainer;return t.treeInformation.isRenaming?r.createElement(c,{tree:t},r.createElement(l,{live:"polite"},L(a.renamingItem,e,n,t,o))):t.treeInformation.isSearching?r.createElement(c,{tree:t},r.createElement(l,{live:"polite"},L(a.searching,e,n,t,o))):t.treeInformation.isProgrammaticallyDragging?r.createElement(c,{tree:t},r.createElement(l,{live:"polite"},L(a.programmaticallyDragging,e,n,t,o)),r.createElement(l,{live:"assertive"},L(a.programmaticallyDraggingTarget,e,n,t,o))):r.createElement(c,{tree:t},r.createElement(l,{live:"off"},L(a.introduction,e,n,t,o)))},F=function(){var e;return null===(e=(0,i.g)().showLiveDescription)||void 0===e||e?r.createElement(M,null):null},B=function(){return B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},B.apply(this,arguments)},U=function(){var e,t=X(),n=t.treeId,o=t.rootItem,a=t.renderers,l=t.treeInformation,c=(0,i.g)(),s=(0,r.useRef)(),d=(0,u.Y)(),m=c.activeTreeId===n;_(),function(e,t,n,i){void 0===i&&(i=[]);var o=(0,r.useState)(!1),a=o[0],l=o[1],u=(0,r.useRef)(!1),c=(0,b._)();p(e,"focusin",(function(){a||(l(!0),null==t||t()),u.current&&(u.current=!1)}),S([a,t],i)),p(e,"focusout",(function(){u.current=!0,c((function(){u.current&&!(null==e?void 0:e.contains(document.activeElement))&&(null==n||n(),u.current=!1,l(!1))}))}),S([e,n,c],i))}(s.current,(function(){c.setActiveTree(n)}),(function(){c.setActiveTree((function(e){return e===n?void 0:e}))}),[c.activeTreeId,n,m]);var f=c.items[o].children;if(!f)throw Error("Root "+o+" does not contain any children");var v=r.createElement(r.Fragment,null,r.createElement(F,null),r.createElement(T,{depth:0,parentId:n},f),r.createElement(P,{treeId:n}),r.createElement(A,{containerRef:s.current})),g=B({onDragOver:function(e){return d.onDragOverTreeHandler(e,n,s)},onMouseDown:function(){return d.abortProgrammaticDrag()},ref:s,style:{position:"relative"},role:"tree","aria-label":l.treeLabelledBy?void 0:l.treeLabel,"aria-labelledby":l.treeLabelledBy},((e={})["data-rct-tree"]=n,e));return a.renderTreeContainer({children:v,info:l,containerProps:g})},K=n(4832),Y=function(){return Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Y.apply(this,arguments)},W=n(490),H=r.createContext(null),q=r.forwardRef((function(e,t){(0,i.g)();var n=X();(0,u.Y)();var o=(0,W.O)(),a={abortRenamingItem:function(){n.setRenamingItem(null)},abortSearch:function(){n.setSearch(null)},collapseItem:function(e){o.collapseItem(e,n.treeId)},completeRenamingItem:function(){},expandItem:function(e){o.expandItem(e,n.treeId)},focusItem:function(e){o.focusItem(e,n.treeId)},focusTree:function(e){void 0===e&&(e=!0),o.focusTree(n.treeId,e)},invokePrimaryAction:function(e){o.invokePrimaryAction(e,n.treeId)},moveFocusDown:function(){o.moveFocusDown(n.treeId)},moveFocusUp:function(){o.moveFocusUp(n.treeId)},renameItem:function(e,t){o.renameItem(e,t,n.treeId)},selectItems:function(e){o.selectItems(e,n.treeId)},setSearch:function(e){n.setSearch(e)},startRenamingItem:function(e){n.setRenamingItem(e)},stopRenamingItem:function(){n.setRenamingItem(null)},toggleItemExpandedState:function(e){o.toggleItemExpandedState(e,n.treeId)},toggleItemSelectStatus:function(e){o.toggleItemSelectStatus(e,n.treeId)}};return function(e,t){var n=(0,i.g)(),o=X(),a=(0,u.Y)();(0,r.useImperativeHandle)(e,(function(){return Y(Y(Y({},t),{treeEnvironmentContext:n,dragAndDropContext:a,treeContext:o}),o.treeInformation)}))}(t,a),r.createElement(H.Provider,{value:a},e.children)})),z=function(){return z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},z.apply(this,arguments)},G=r.createContext(null),X=function(){return(0,r.useContext)(G)},J=r.forwardRef((function(e,t){var n,o,a=(0,i.g)(),l=(0,r.useMemo)((function(){return z(z({},a),e)}),[e,a]),c=(0,r.useState)(null),s=c[0],d=c[1],m=(0,r.useState)(null),f=m[0],v=m[1],p=a.items[e.rootItem],g=null!==(n=a.viewState[e.treeId])&&void 0!==n?n:{};(0,r.useEffect)((function(){return a.registerTree({treeId:e.treeId,rootItem:e.rootItem}),function(){return a.unregisterTree(e.treeId)}}),[e.treeId,e.rootItem]);var h=function(e,t,n){var o,a=(0,i.g)(),l=(0,u.Y)(),c=null===(o=a.viewState[e.treeId])||void 0===o?void 0:o.selectedItems;return(0,r.useMemo)((function(){var r,i;return{isFocused:a.activeTreeId===e.treeId,isRenaming:!!t,areItemsSelected:(null!==(r=null==c?void 0:c.length)&&void 0!==r?r:0)>0,isSearching:null!==n,search:n,isProgrammaticallyDragging:null!==(i=l.isProgrammaticallyDragging)&&void 0!==i&&i,treeId:e.treeId,rootItem:e.rootItem}}),[a.activeTreeId,e.treeId,e.rootItem,t,null==c?void 0:c.length,n,l.isProgrammaticallyDragging])}(e,f,s),I={treeId:e.treeId,rootItem:e.rootItem,treeLabel:e.treeLabel,treeLabelledBy:e.treeLabelledBy,getItemsLinearly:function(){return(0,K.K)(e.rootItem,g,a.items)},treeInformation:h,search:s,setSearch:d,renamingItem:f,setRenamingItem:v,renderers:l};return void 0===p?(null===(o=a.onMissingItems)||void 0===o||o.call(a,[e.rootItem]),null):r.createElement(G.Provider,{value:I},r.createElement(q,{ref:t},r.createElement(U,null)))}))},4832:function(e,t,n){n.d(t,{K:function(){return r}});var r=function e(t,n,r,i){var o,a,l;void 0===i&&(i=0);for(var u=[],c=0,s=null!==(a=null===(o=r[t])||void 0===o?void 0:o.children)&&void 0!==a?a:[];c<s.length;c++){var d=s[c],m=r[d];u.push({item:d,depth:i}),m&&m.hasChildren&&m.children&&(null===(l=n.expandedItems)||void 0===l?void 0:l.includes(d))&&u.push.apply(u,e(d,n,r,i+1))}return u}},7509:function(e,t,n){var r;n.d(t,{A:function(){return r}}),function(e){e.DoubleClickItemToExpand="double-click-item-to-expand",e.ClickItemToExpand="click-item-to-expand",e.ClickArrowToExpand="click-arrow-to-expand"}(r||(r={}))},4659:function(e,t,n){n.d(t,{j:function(){return u}});var r=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function l(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},o=function(){function e(e){this.options=e,this.handlerCount=0,this.handlers=[]}return Object.defineProperty(e.prototype,"numberOfHandlers",{get:function(){return this.handlers.filter((function(e){return!!e})).length},enumerable:!1,configurable:!0}),e.prototype.emit=function(e){var t,n;return r(this,void 0,void 0,(function(){var r,o,a,l,u;return i(this,(function(i){switch(i.label){case 0:for(r=[],null===(n=null===(t=this.options)||void 0===t?void 0:t.logger)||void 0===n||n.call(t,"emit",e),o=0,a=this.handlers;o<a.length;o++)(l=a[o])&&"function"==typeof(null==(u=l(e))?void 0:u.then)&&r.push(u);return[4,Promise.all(r)];case 1:return i.sent(),[2]}}))}))},e.prototype.on=function(e){var t,n;return null===(n=null===(t=this.options)||void 0===t?void 0:t.logger)||void 0===n||n.call(t,"on"),this.handlers.push(e),this.handlerCount++},e.prototype.off=function(e){this.delete(e)},e.prototype.delete=function(e){var t,n;null===(n=null===(t=this.options)||void 0===t?void 0:t.logger)||void 0===n||n.call(t,"off"),this.handlers[e]=null},e}(),a=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function l(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},u=function(){function e(e,t){this.onDidChangeTreeDataEmitter=new o,this.data={items:e},this.setItemName=t}return e.prototype.getTreeItem=function(e){return a(this,void 0,void 0,(function(){return l(this,(function(t){return[2,this.data.items[e]]}))}))},e.prototype.onChangeItemChildren=function(e,t){return a(this,void 0,void 0,(function(){return l(this,(function(n){return this.data.items[e].children=t,this.onDidChangeTreeDataEmitter.emit([e]),[2]}))}))},e.prototype.onDidChangeTreeData=function(e){var t=this,n=this.onDidChangeTreeDataEmitter.on((function(t){return e(t)}));return{dispose:function(){return t.onDidChangeTreeDataEmitter.off(n)}}},e.prototype.onRenameItem=function(e,t){return a(this,void 0,void 0,(function(){return l(this,(function(n){return this.setItemName&&(this.data.items[e.index]=this.setItemName(e,t)),[2]}))}))},e}()},4095:function(e,t,n){n.d(t,{q:function(){return m}});var r=n(2784),i=n(5486),o=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function l(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},l=function(){function e(e){this.provider=e}return e.prototype.getTreeItem=function(e){return o(this,void 0,void 0,(function(){return a(this,(function(t){return[2,this.provider.getTreeItem(e)]}))}))},e.prototype.getTreeItems=function(e){return o(this,void 0,void 0,(function(){var t=this;return a(this,(function(n){return[2,this.provider.getTreeItems?this.provider.getTreeItems(e):Promise.all(e.map((function(e){return t.provider.getTreeItem(e)})))]}))}))},e.prototype.onChangeItemChildren=function(e,t){var n,r;return o(this,void 0,void 0,(function(){return a(this,(function(i){return[2,null===(r=(n=this.provider).onChangeItemChildren)||void 0===r?void 0:r.call(n,e,t)]}))}))},e.prototype.onDidChangeTreeData=function(e){return this.provider.onDidChangeTreeData?this.provider.onDidChangeTreeData(e):{dispose:function(){}}},e.prototype.onRenameItem=function(e,t){var n,r;return o(this,void 0,void 0,(function(){return a(this,(function(i){return[2,null===(r=(n=this.provider).onRenameItem)||void 0===r?void 0:r.call(n,e,t)]}))}))},e}(),u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)},c=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function l(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}u((r=r.apply(e,t||[])).next())}))},s=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(l){o=[6,l],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},d=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},m=r.forwardRef((function(e,t){var n=(0,r.useState)({}),o=n[0],a=n[1],m=(0,r.useState)(e.viewState),f=m[0],v=m[1],p=(0,r.useRef)([]),g=(0,r.useMemo)((function(){return new l(e.dataProvider)}),[e.dataProvider]),h=(0,r.useMemo)((function(){return function(e){a((function(t){return u(u({},t),e)}))}}),[]),I=(0,r.useCallback)((function(e,t){v((function(n){var r,i;return u(u({},n),((r={})[e]=u(u({},n[e]),t(null!==(i=n[e])&&void 0!==i?i:{})),r))}))}),[]);return(0,r.useEffect)((function(){var e=g.onDidChangeTreeData((function(e){g.getTreeItems(e).then((function(e){h(e.map((function(e){var t;return(t={})[e.index]=e,t})).reduce((function(e,t){return u(u({},e),t)}),{}))}))})).dispose;return e}),[g,h]),r.createElement(i.p,u({},e,{ref:t,viewState:f,items:o,onExpandItem:function(t,n){var r;I(n,(function(e){var n;return u(u({},e),{expandedItems:d(d([],null!==(n=e.expandedItems)&&void 0!==n?n:[]),[t.index])})})),null===(r=e.onExpandItem)||void 0===r||r.call(e,t,n)},onCollapseItem:function(t,n){var r;I(n,(function(e){var n;return u(u({},e),{expandedItems:null===(n=e.expandedItems)||void 0===n?void 0:n.filter((function(e){return e!==t.index}))})})),null===(r=e.onCollapseItem)||void 0===r||r.call(e,t,n)},onSelectItems:function(t,n){var r;I(n,(function(e){return u(u({},e),{selectedItems:t})})),null===(r=e.onSelectItems)||void 0===r||r.call(e,t,n)},onFocusItem:function(t,n){var r;I(n,(function(e){return u(u({},e),{focusedItem:t.index})})),null===(r=e.onFocusItem)||void 0===r||r.call(e,t,n)},onStartRenamingItem:function(t,n){var r;I(n,(function(e){return u(u({},e),{renamingItem:t.index})})),null===(r=e.onStartRenamingItem)||void 0===r||r.call(e,t,n)},onAbortRenamingItem:function(t,n){var r;I(n,(function(e){return u(u({},e),{renamingItem:void 0})})),null===(r=e.onAbortRenamingItem)||void 0===r||r.call(e,t,n)},onRenameItem:function(t,n,r){return c(void 0,void 0,void 0,(function(){var i,o,a;return s(this,(function(l){switch(l.label){case 0:return[4,g.onRenameItem(t,n)];case 1:return l.sent(),I(r,(function(e){return u(u({},e),{renamingItem:void 0})})),[4,g.getTreeItem(t.index)];case 2:return i=l.sent(),h(((o={})[t.index]=i,o)),null===(a=e.onRenameItem)||void 0===a||a.call(e,t,n,r),[2]}}))}))},onDrop:function(t,n){return c(void 0,void 0,void 0,(function(){var r,i,a,l,u,c,m,f,v;return s(this,(function(p){switch(p.label){case 0:r=function(e){var t,r,i,a;return s(this,(function(l){switch(l.label){case 0:if(t=Object.values(o).find((function(t){var n;return null===(n=t.children)||void 0===n?void 0:n.includes(e.index)})),r=o[n.parentItem],!t)throw Error('Could not find parent of item "'+e.index+'"');if(!t.children)throw Error('Parent "'+t.index+'" of item "'+e.index+'" did not have any children');return"item"!==n.targetType?[3,5]:n.targetItem!==t.index?[3,1]:[3,4];case 1:return[4,g.onChangeItemChildren(t.index,t.children.filter((function(t){return t!==e.index})))];case 2:return l.sent(),[4,g.onChangeItemChildren(n.targetItem,d(d([],null!==(u=o[n.targetItem].children)&&void 0!==u?u:[]),[e.index]))];case 3:l.sent(),l.label=4;case 4:return[3,10];case 5:return i=d([],null!==(c=r.children)&&void 0!==c?c:[]).filter((function(t){return t!==e.index})),n.parentItem!==t.index?[3,7]:(a=(null!==(f=(null!==(m=r.children)&&void 0!==m?m:[]).findIndex((function(t){return t===e.index})))&&void 0!==f?f:1/0)<n.childIndex,i.splice(n.childIndex-(a?1:0),0,e.index),[4,g.onChangeItemChildren(n.parentItem,i)]);case 6:return l.sent(),[3,10];case 7:return i.splice(n.childIndex,0,e.index),[4,g.onChangeItemChildren(t.index,t.children.filter((function(t){return t!==e.index})))];case 8:return l.sent(),[4,g.onChangeItemChildren(n.parentItem,i)];case 9:l.sent(),l.label=10;case 10:return[2]}}))},i=0,a=t,p.label=1;case 1:return i<a.length?(l=a[i],[5,r(l)]):[3,4];case 2:p.sent(),p.label=3;case 3:return i++,[3,1];case 4:return null===(v=e.onDrop)||void 0===v||v.call(e,t,n),[2]}}))}))},onMissingItems:function(t){var n,r;0===p.current.length&&setTimeout((function(){g.getTreeItems(p.current).then((function(e){h(e.map((function(e){var t;return(t={})[e.index]=e,t})).reduce((function(e,t){return u(u({},e),t)}),{}))})),p.current=[]})),(n=p.current).push.apply(n,t),null===(r=e.onMissingItems)||void 0===r||r.call(e,t)}}),e.children)}))},4629:function(e,t,n){n.d(t,{_:function(){return i}});var r=n(2784);function i(){var e=(0,r.useRef)(new Array);return(0,r.useEffect)((function(){var t=e.current;return function(){return t.forEach((function(e){return cancelAnimationFrame(e)}))}}),[e]),(0,r.useCallback)((function(t){var n=requestAnimationFrame((function(){e.current.splice(e.current.indexOf(n),1),t()}));e.current.push(n)}),[e])}},5908:function(e,t,n){n.d(t,{R:function(){return o}});var r=n(2784),i=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},o=function(e,t,n){var o=(0,r.useRef)();(0,r.useEffect)((function(){o.current?o.current.some((function(e,t){return e!==n[t]}))&&(o.current=i([],n),e()):(o.current=i([],n),e())}),i(i([],t),n))}},2670:function(e,t,n){n.d(t,{O:function(){return i}});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=function(e,t){return e.map((function(e){return[e,t(e)]})).reduce((function(e,t){var n,i=t[0],o=t[1];return r(r({},e),((n={})[i]=o,n))}),{})}},634:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(3577),t)},3577:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.shortTree=t.longTree=void 0;var n=function e(t,n){void 0===n&&(n={items:{}});for(var r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],l=o[1];n.items[a]={index:a,canMove:!0,hasChildren:null!==l,children:null!==l?Object.keys(l):void 0,data:a,canRename:!0},null!==l&&e(l,n)}return n};t.longTree=n({root:{Fruit:{Apple:null,Orange:null,Lemon:null,Berries:{Strawberry:null,Blueberry:null},Banana:null},Meals:{America:{SmashBurger:null,Chowder:null,Ravioli:null,MacAndCheese:null,Brownies:null},Europe:{Risotto:null,Spaghetti:null,Pizza:null,Weisswurst:null,Spargel:null},Asia:{Curry:null,PadThai:null,Jiaozi:null,Sushi:null},Australia:{PotatoWedges:null,PokeBowl:null,LemonCurd:null,KumaraFries:null}},Desserts:{Cookies:null,IceCream:null},Drinks:{PinaColada:null,Cola:null,Juice:null}}}),t.shortTree=n({root:{container:{item0:null,item1:null,item2:null,item3:{inner0:null,inner1:null,inner2:null,inner3:null},item4:null,item5:null}}})},1385:function(e,t,n){var r=n(2784),i=n(5486),o=n(4095),a=n(6524),l=n(4659),u=n(634),c=n(8746),s=n(4298),d=Object.assign({React:r},r,{ControlledTreeEnvironment:i.p,UncontrolledTreeEnvironment:o.q,Tree:a.m,longTree:u.longTree,shortTree:u.shortTree,StaticTreeDataProvider:l.j,AutoDemo:s.AutoDemo,bpRenderers:c.renderers});t.Z=d}}]);